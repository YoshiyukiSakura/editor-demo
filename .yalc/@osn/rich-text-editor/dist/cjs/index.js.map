{"version":3,"file":"index.js","sources":["../../node_modules/tslib/tslib.es6.js","../../../src/helpers/textHelpers.ts","../../../src/commands/markdown-commands/boldCommand.tsx","../../../src/commands/markdown-commands/strikethroughCommand.tsx","../../../src/commands/markdown-commands/linkCommand.tsx","../../../src/commands/markdown-commands/imageCommand.tsx","../../../src/commands/markdown-commands/codeCommand.tsx","../../../src/commands/command-controller.ts","../../../src/text/textarea-text-controller.ts","../../../src/hooks/use-markdown-editor.ts","../../../src/helpers/listHelpers.ts","../../../src/commands/markdown-commands/orderedListCommand.ts","../../../src/commands/markdown-commands/unorderedListCommand.ts","../../../src/commands/markdown-commands/underlineCommand.tsx","../../../src/commands/markdown-commands/newLineCommand.ts","../../../src/commands/markdown-commands/newLineAndIndentContinueMarkdownListCommand.ts","../../../src/components/PreviewComponents.tsx","../../../src/components/MarkdownPreview.tsx","../../../src/components/SuggestionsDropdown.tsx","../../../src/components/EditorComponents.tsx","../../../src/icons/bold.tsx","../../../src/icons/underline.tsx","../../../src/icons/delete.tsx","../../../src/icons/ul.tsx","../../../src/icons/ol.tsx","../../../src/icons/link.tsx","../../../src/icons/img.tsx","../../../src/icons/code.tsx","../../../src/components/EditorHeader.tsx","../../../src/util/text.tsx","../../../src/util/index.tsx","../../../src/util/eventHandlers.tsx","../../../src/index.tsx"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","import { SelectionRange } from \"../types/SelectionRange\";\nimport { TextState } from \"../types/CommandOptions\";\nimport { AlterLineFunction } from \"./listHelpers\";\n\n/**\n * A list of helpers for manipulating markdown text.\n * These helpers do not interface with a textarea. For that, see\n */\nexport function getSurroundingWord(\n  text: string,\n  position: number\n): SelectionRange {\n  if (!text) throw Error(\"Argument 'text' should be truthy\");\n\n  const isWordDelimiter = (c: string) => c === \" \" || c.charCodeAt(0) === 10;\n\n  // leftIndex is initialized to 0 because if selection is 0, it won't even enter the iteration\n  let start = 0;\n  // rightIndex is initialized to text.length because if selection is equal to text.length it won't even enter the interation\n  let end = text.length;\n\n  // iterate to the left\n  for (let i = position; i - 1 > -1; i--) {\n    if (isWordDelimiter(text[i - 1])) {\n      start = i;\n      break;\n    }\n  }\n\n  // iterate to the right\n  for (let i = position; i < text.length; i++) {\n    if (isWordDelimiter(text[i])) {\n      end = i;\n      break;\n    }\n  }\n\n  return { start, end };\n}\n\n/**\n * If the cursor is inside a word and (selection.start === selection.end)\n * returns a new Selection where the whole word is selected\n * @param text\n * @param selection\n */\nexport function selectWord({ text, selection }: TextState): SelectionRange {\n  if (text && text.length && selection.start === selection.end) {\n    // the user is pointing to a word\n    return getSurroundingWord(text, selection.start);\n  }\n  return selection;\n}\n\n/**\n *  Gets the number of line-breaks that would have to be inserted before the given 'startPosition'\n *  to make sure there's an empty line between 'startPosition' and the previous text\n */\nexport function getBreaksNeededForEmptyLineBefore(\n  text = \"\",\n  startPosition: number\n): number {\n  if (startPosition === 0) return 0;\n\n  // rules:\n  // - If we're in the first line, no breaks are needed\n  // - Otherwise there must be 2 breaks before the previous character. Depending on how many breaks exist already, we\n  //      may need to insert 0, 1 or 2 breaks\n\n  let neededBreaks = 2;\n  let isInFirstLine = true;\n  for (let i = startPosition - 1; i >= 0 && neededBreaks >= 0; i--) {\n    switch (text.charCodeAt(i)) {\n      case 32: // blank space\n        continue;\n      case 10: // line break\n        neededBreaks--;\n        isInFirstLine = false;\n        break;\n      default:\n        return neededBreaks;\n    }\n  }\n  return isInFirstLine ? 0 : neededBreaks;\n}\n\n/**\n *  Gets the number of line-breaks that would have to be inserted after the given 'startPosition'\n *  to make sure there's an empty line between 'startPosition' and the next text\n */\nexport function getBreaksNeededForEmptyLineAfter(\n  text = \"\",\n  startPosition: number\n) {\n  if (startPosition === text.length - 1) return 0;\n\n  // rules:\n  // - If we're in the first line, no breaks are needed\n  // - Otherwise there must be 2 breaks before the previous character. Depending on how many breaks exist already, we\n  //      may need to insert 0, 1 or 2 breaks\n\n  let neededBreaks = 2;\n  let isInLastLine = true;\n  for (let i = startPosition; i < text.length && neededBreaks >= 0; i++) {\n    switch (text.charCodeAt(i)) {\n      case 32:\n        continue;\n      case 10: {\n        neededBreaks--;\n        isInLastLine = false;\n        break;\n      }\n      default:\n        return neededBreaks;\n    }\n  }\n  return isInLastLine ? 0 : neededBreaks;\n}\nexport function getSelectedText(textSection: TextState): string {\n  return textSection.text.slice(\n    textSection.selection.start,\n    textSection.selection.end\n  );\n}\nexport function getCharactersBeforeSelection(\n  textState: TextState,\n  characters: number\n): string {\n  return textState.text.slice(\n    textState.selection.start - characters,\n    textState.selection.start\n  );\n}\n\nexport function getCharactersAfterSelection(\n  textState: TextState,\n  characters: number\n): string {\n  return textState.text.slice(\n    textState.selection.end,\n    textState.selection.end + characters\n  );\n}\n\n/**\n * Inserts insertionString before each line\n */\nexport function insertBeforeEachLine(\n  selectedText: string,\n  insertBefore: string | AlterLineFunction\n): { modifiedText: string; insertionLength: number } {\n  const lines = selectedText.split(/\\n/);\n\n  let insertionLength = 0;\n  const modifiedText = lines\n    .map((item, index) => {\n      if (typeof insertBefore === \"string\") {\n        insertionLength += insertBefore.length;\n        return insertBefore + item;\n      } else if (typeof insertBefore === \"function\") {\n        const insertionResult = insertBefore(item, index);\n        insertionLength += insertionResult.length;\n        return insertBefore(item, index) + item;\n      }\n      throw Error(\"insertion is expected to be either a string or a function\");\n    })\n    .join(\"\\n\");\n\n  return { modifiedText, insertionLength };\n}\n","import * as React from \"react\";\nimport { Command } from \"../command\";\nimport {\n  getCharactersAfterSelection,\n  getCharactersBeforeSelection,\n  getSelectedText,\n  selectWord\n} from \"../../helpers/textHelpers\";\n\nexport const boldCommand: Command = {\n  shouldUndo: options => {\n    return (\n      getCharactersBeforeSelection(options.initialState, 2) === \"**\" &&\n      getCharactersAfterSelection(options.initialState, 2) === \"**\"\n    );\n  },\n  execute: ({ initialState, textApi }) => {\n    // Adjust the selection to encompass the whole word if the caret is inside one\n    const newSelectionRange = selectWord({\n      text: initialState.text,\n      selection: initialState.selection\n    });\n    const state1 = textApi.setSelectionRange(newSelectionRange);\n    // Replaces the current selection with the bold mark up\n    const state2 = textApi.replaceSelection(`**${getSelectedText(state1)}**`);\n    // Adjust the selection to not contain the **\n    textApi.setSelectionRange({\n      start: state2.selection.end - 2 - getSelectedText(state1).length,\n      end: state2.selection.end - 2\n    });\n  },\n  undo: ({ initialState, textApi }) => {\n    const text = getSelectedText(initialState);\n    textApi.setSelectionRange({\n      start: initialState.selection.start - 2,\n      end: initialState.selection.end + 2\n    });\n    textApi.replaceSelection(text);\n    textApi.setSelectionRange({\n      start: initialState.selection.start - 2,\n      end: initialState.selection.end - 2\n    });\n  }\n};\n","import * as React from \"react\";\nimport { Command } from \"../command\";\nimport { getSelectedText, selectWord } from \"../../helpers/textHelpers\";\n\nexport const strikethroughCommand: Command = {\n  execute: ({ initialState, textApi }) => {\n    // Adjust the selection to encompass the whole word if the caret is inside one\n    const newSelectionRange = selectWord({\n      text: initialState.text,\n      selection: initialState.selection\n    });\n    const state1 = textApi.setSelectionRange(newSelectionRange);\n    // Replaces the current selection with the strikethrough mark up\n    const state2 = textApi.replaceSelection(`~~${getSelectedText(state1)}~~`);\n    // Adjust the selection to not contain the ~~\n    textApi.setSelectionRange({\n      start: state2.selection.end - 2 - getSelectedText(state1).length,\n      end: state2.selection.end - 2\n    });\n  }\n};\n","import * as React from \"react\";\nimport { Command } from \"../command\";\nimport { getSelectedText, selectWord } from \"../../helpers/textHelpers\";\n\nexport const linkCommand: Command = {\n  execute: ({ initialState, textApi }) => {\n    // Adjust the selection to encompass the whole word if the caret is inside one\n    const newSelectionRange = selectWord({\n      text: initialState.text,\n      selection: initialState.selection\n    });\n    const state1 = textApi.setSelectionRange(newSelectionRange);\n    // Replaces the current selection with the bold mark up\n    const state2 = textApi.replaceSelection(\n      `[${getSelectedText(state1)}](url)`\n    );\n    // Adjust the selection to not contain the **\n    textApi.setSelectionRange({\n      start: state2.selection.end - 6 - getSelectedText(state1).length,\n      end: state2.selection.end - 6\n    });\n  }\n};\n","import * as React from \"react\";\nimport { Command } from \"../command\";\nimport { getSelectedText, selectWord } from \"../../helpers/textHelpers\";\n\nexport const imageCommand: Command = {\n  execute: ({ initialState, textApi }) => {\n    // Replaces the current selection with the whole word selected\n    const state1 = textApi.setSelectionRange(\n      selectWord({\n        text: initialState.text,\n        selection: initialState.selection\n      })\n    );\n    // Replaces the current selection with the image\n    const imageTemplate =\n      getSelectedText(state1) || \"https://example.com/your-image.png\";\n    textApi.replaceSelection(`![](${imageTemplate})`);\n    // Adjust the selection to not contain the **\n    textApi.setSelectionRange({\n      start: state1.selection.start + 4,\n      end: state1.selection.start + 4 + imageTemplate.length\n    });\n  }\n};\n","import * as React from \"react\";\nimport { Command } from \"../command\";\nimport {\n  getCharactersAfterSelection,\n  getCharactersBeforeSelection,\n  getSelectedText,\n  selectWord\n} from \"../../helpers/textHelpers\";\n\nexport const codeCommand: Command = {\n  shouldUndo: options => {\n    return (\n      getCharactersBeforeSelection(options.initialState, 1) === \"`\" &&\n      getCharactersAfterSelection(options.initialState, 1) === \"`\"\n    );\n  },\n  execute: ({ initialState, textApi }) => {\n    // Adjust the selection to encompass the whole word if the caret is inside one\n    const newSelectionRange = selectWord({\n      text: initialState.text,\n      selection: initialState.selection\n    });\n    const state1 = textApi.setSelectionRange(newSelectionRange);\n    // Replaces the current selection with the italic mark up\n    const state2 = textApi.replaceSelection(`\\`${getSelectedText(state1)}\\``);\n    // Adjust the selection to not contain the *\n    textApi.setSelectionRange({\n      start: state2.selection.end - 1 - getSelectedText(state1).length,\n      end: state2.selection.end - 1\n    });\n  },\n  undo: ({ initialState, textApi }) => {\n    const text = getSelectedText(initialState);\n    textApi.setSelectionRange({\n      start: initialState.selection.start - 1,\n      end: initialState.selection.end + 1\n    });\n    textApi.replaceSelection(text);\n    textApi.setSelectionRange({\n      start: initialState.selection.start - 1,\n      end: initialState.selection.end - 1\n    });\n  }\n};\n","import { TextController } from \"../types/CommandOptions\";\nimport { CommandContext, CommandMap } from \"./command\";\n\nexport class CommandController<CommandName extends string> {\n  private readonly textController: TextController;\n  private readonly commandMap: CommandMap<CommandName>;\n\n  /**\n   * Indicates whether there is a command currently executing\n   */\n  isExecuting: boolean = false;\n\n  constructor(\n    textController: TextController,\n    commandMap: CommandMap<CommandName>\n  ) {\n    this.textController = textController;\n    this.commandMap = commandMap;\n  }\n\n  async executeCommand(\n    commandName: CommandName,\n    context?: CommandContext\n  ): Promise<void> {\n    if (this.isExecuting) {\n      // The simplest thing to do is to ignore commands while\n      // there is already a command execu\n      // ting. The alternative would be to queue commands\n      // but there is no guarantee that the state after one command executes will still be compatible\n      // with the next one. In fact, it is likely not to be.\n      return;\n    }\n\n    const command = this.commandMap[commandName];\n\n    if (!command) {\n      throw new Error(\n        `Cannot execute command. Command not found: ${commandName}`\n      );\n    }\n\n    const executeOptions = {\n      initialState: this.textController.getState(),\n      textApi: this.textController\n    };\n\n    if (command.shouldUndo?.(executeOptions) && command?.undo) {\n      command.undo(executeOptions);\n    } else {\n      await command.execute(executeOptions);\n    }\n  }\n}\n","import { TextController, TextState } from \"../types/CommandOptions\";\nimport * as React from \"react\";\nimport { SelectionRange } from \"../types/SelectionRange\";\n\nexport class TextAreaTextController implements TextController {\n  textAreaRef: React.RefObject<HTMLTextAreaElement>;\n\n  constructor(textAreaRef: React.RefObject<HTMLTextAreaElement>) {\n    this.textAreaRef = textAreaRef;\n  }\n\n  replaceSelection(text: string): TextState {\n    const { el: textArea } = this.ensureTextArea();\n    insertText(textArea, text);\n    return getStateFromTextArea(textArea);\n  }\n\n  setSelectionRange(selection: SelectionRange): TextState {\n    const { el: textArea } = this.ensureTextArea();\n    textArea.focus();\n    textArea.selectionStart = selection.start;\n    textArea.selectionEnd = selection.end;\n    return getStateFromTextArea(textArea);\n  }\n\n  getState(): TextState {\n    const { el: textArea } = this.ensureTextArea();\n    return getStateFromTextArea(textArea);\n  }\n\n  ensureTextArea() {\n    const textArea = this.textAreaRef.current;\n    if (!textArea) {\n      throw new Error(\"TextAreaRef is not set\");\n    }\n\n    return {\n      el: textArea,\n      ref: this.textAreaRef\n    };\n  }\n\n  get textArea() {\n    return this.ensureTextArea().el;\n  }\n}\n\nexport function getStateFromTextArea(textArea: HTMLTextAreaElement): TextState {\n  const re = /\\r?\\n|\\r/;\n  const { value } = textArea;\n\n  const lineNumber = value.substr(0, textArea.selectionStart).split(re).length;\n  const lineText = value.split(re)[lineNumber - 1];\n\n  return {\n    selection: {\n      start: textArea.selectionStart,\n      end: textArea.selectionEnd\n    },\n    text: value,\n    lineNumber,\n    lineText\n  };\n}\n\n/**\n * Inserts the given text at the cursor. If the element contains a selection, the selection\n * will be replaced by the text.\n *    The MIT License\n *    Copyright (c) 2018 Dmitriy Kubyshkin\n *    Copied from https://github.com/grassator/insert-text-at-cursor\n */\nexport function insertText(\n  input: HTMLTextAreaElement | HTMLInputElement,\n  text: string\n) {\n  // Most of the used APIs only work with the field selected\n  input.focus();\n\n  // IE 8-10\n  if ((document as any).selection) {\n    const ieRange = (document as any).selection.createRange();\n    ieRange.text = text;\n\n    // Move cursor after the inserted text\n    ieRange.collapse(false /* to the end */);\n    ieRange.select();\n\n    return;\n  }\n\n  // Webkit + Edge\n  const isSuccess = document.execCommand(\"insertText\", false, text);\n  if (!isSuccess) {\n    const start = input.selectionStart || 0;\n    const end = input.selectionEnd || 0;\n    // Firefox (non-standard method)\n    if (typeof (input as any).setRangeText === \"function\") {\n      (input as any).setRangeText(text);\n    } else {\n      if (canManipulateViaTextNodes(input)) {\n        const textNode = document.createTextNode(text);\n        let node = input.firstChild;\n\n        // If textarea is empty, just insert the text\n        if (!node) {\n          input.appendChild(textNode);\n        } else {\n          // Otherwise, we need to find a nodes for start and end\n          let offset = 0;\n          let startNode = null;\n          let endNode = null;\n\n          // To make a change we just need a Range, not a Selection\n          const range = document.createRange();\n\n          while (node && (startNode === null || endNode === null)) {\n            const nodeLength = node.nodeValue?.length || 0;\n\n            // if start of the selection falls into current node\n            if (start >= offset && start <= offset + nodeLength) {\n              range.setStart((startNode = node), start - offset);\n            }\n\n            // if end of the selection falls into current node\n            if (end >= offset && end <= offset + nodeLength) {\n              range.setEnd((endNode = node), end - offset);\n            }\n\n            offset += nodeLength;\n            node = node.nextSibling;\n          }\n\n          // If there is some text selected, remove it as we should replace it\n          if (start !== end) {\n            range.deleteContents();\n          }\n\n          // Finally insert a new node. The browser will automatically\n          // split start and end nodes into two if necessary\n          range.insertNode(textNode);\n        }\n      } else {\n        // For the text input the only way is to replace the whole value :(\n        const value = input.value;\n        input.value = value.slice(0, start) + text + value.slice(end);\n      }\n    }\n\n    // Correct the cursor position to be at the end of the insertion\n    input.setSelectionRange(start + text.length, start + text.length);\n\n    // Notify any possible listeners of the change\n    const e = document.createEvent(\"UIEvent\");\n    e.initEvent(\"input\", true, false);\n    input.dispatchEvent(e);\n  }\n}\n\n/**\n *    The MIT License\n *    Copyright (c) 2018 Dmitriy Kubyshkin\n *    Copied from https://github.com/grassator/insert-text-at-cursor\n */\nfunction canManipulateViaTextNodes(\n  input: HTMLTextAreaElement | HTMLInputElement\n) {\n  if (input.nodeName !== \"TEXTAREA\") {\n    return false;\n  }\n  let browserSupportsTextareaTextNodes;\n  if (typeof browserSupportsTextareaTextNodes === \"undefined\") {\n    const textarea = document.createElement(\"textarea\");\n    textarea.value = \"1\";\n    browserSupportsTextareaTextNodes = !!textarea.firstChild;\n  }\n  return browserSupportsTextareaTextNodes;\n}\n","import React, { useMemo } from \"react\";\nimport { CommandController } from \"../commands/command-controller\";\nimport { TextAreaTextController } from \"../text/textarea-text-controller\";\nimport { TextController } from \"../types/CommandOptions\";\nimport { CommandMap } from \"../commands/command\";\n\nexport type UseTextAreaMarkdownEditorResult<CommandName extends string> = {\n  textController: TextController;\n  commandController: CommandController<CommandName>;\n};\n\nexport type UseTextAreaMarkdownEditorOptions<CommandName extends string> = {\n  commandMap: CommandMap<CommandName>;\n};\n\nexport function useTextAreaMarkdownEditor<CommandName extends string>(\n  ref: React.RefObject<HTMLTextAreaElement>,\n  options: UseTextAreaMarkdownEditorOptions<CommandName>\n): UseTextAreaMarkdownEditorResult<CommandName> {\n\n  const textController = useMemo(() => {\n    return new TextAreaTextController(ref);\n  }, [ref]);\n\n  const commandController = useMemo(\n    () => new CommandController(textController, options.commandMap),\n    [ref]\n  );\n\n  return {\n    textController,\n    commandController,\n  };\n}\n","import { TextController, TextState } from \"../types/CommandOptions\";\n\nexport type AlterLineFunction = (line: string, index: number) => string;\n\nimport {\n  getBreaksNeededForEmptyLineAfter,\n  getBreaksNeededForEmptyLineBefore,\n  getSelectedText,\n  insertBeforeEachLine,\n  selectWord\n} from \"./textHelpers\";\n\nexport function makeList(\n  state0: TextState,\n  textController: TextController,\n  insertBefore: string | AlterLineFunction\n) {\n  // Adjust the selection to encompass the whole word if the caret is inside one\n  const newSelectionRange = selectWord({\n    text: state0.text,\n    selection: state0.selection\n  });\n  const state1 = textController.setSelectionRange(newSelectionRange);\n\n  const breaksBeforeCount = getBreaksNeededForEmptyLineBefore(\n    state1.text,\n    state1.selection.start\n  );\n  const breaksBefore = Array(breaksBeforeCount + 1).join(\"\\n\");\n\n  const breaksAfterCount = getBreaksNeededForEmptyLineAfter(\n    state1.text,\n    state1.selection.end\n  );\n  const breaksAfter = Array(breaksAfterCount + 1).join(\"\\n\");\n\n  const modifiedText = insertBeforeEachLine(\n    getSelectedText(state1),\n    insertBefore\n  );\n\n  textController.replaceSelection(\n    `${breaksBefore}${modifiedText.modifiedText}${breaksAfter}`\n  );\n\n  // Specifically when the text has only one line, we can exclude the \"- \", for example, from the selection\n  const oneLinerOffset =\n    getSelectedText(state1).indexOf(\"\\n\") === -1\n      ? modifiedText.insertionLength\n      : 0;\n\n  const selectionStart =\n    state1.selection.start + breaksBeforeCount + oneLinerOffset;\n  const selectionEnd =\n    selectionStart + modifiedText.modifiedText.length - oneLinerOffset;\n\n  // Adjust the selection to not contain the **\n  textController.setSelectionRange({\n    start: selectionStart,\n    end: selectionEnd\n  });\n}\n","import { Command } from \"../command\";\nimport { makeList } from \"../../helpers/listHelpers\";\n\nexport const orderedListCommand: Command = {\n  execute: ({ initialState, textApi }) => {\n    makeList(initialState, textApi, (item, index) => `${index + 1}. `);\n  }\n};\n","import { Command } from \"../command\";\nimport { makeList } from \"../../helpers/listHelpers\";\n\nexport const unorderedListCommand: Command = {\n  execute: ({ initialState, textApi }) => {\n    makeList(initialState, textApi, \"- \");\n  }\n};\n","import * as React from \"react\";\nimport { Command } from \"../command\";\nimport {\n  getCharactersAfterSelection,\n  getCharactersBeforeSelection,\n  getSelectedText,\n  selectWord\n} from \"../../helpers/textHelpers\";\n\nexport const underlineCommand: Command = {\n  shouldUndo: options => {\n    return (\n      getCharactersBeforeSelection(options.initialState, 5) === \"<ins>\" &&\n      getCharactersAfterSelection(options.initialState, 6) === \"</ins>\"\n    );\n  },\n  execute: ({ initialState, textApi }) => {\n    // Adjust the selection to encompass the whole word if the caret is inside one\n    const newSelectionRange = selectWord({\n      text: initialState.text,\n      selection: initialState.selection\n    });\n    const state1 = textApi.setSelectionRange(newSelectionRange);\n    // Replaces the current selection with the bold mark up\n    const state2 = textApi.replaceSelection(`<ins>${getSelectedText(state1)}</ins>`);\n    // Adjust the selection to not contain the **\n    textApi.setSelectionRange({\n      start: state2.selection.end - 5 - getSelectedText(state1).length,\n      end: state2.selection.end - 6\n    });\n  },\n  undo: ({ initialState, textApi }) => {\n    const text = getSelectedText(initialState);\n    textApi.setSelectionRange({\n      start: initialState.selection.start - 5,\n      end: initialState.selection.end + 6\n    });\n    textApi.replaceSelection(text);\n    textApi.setSelectionRange({\n      start: initialState.selection.start - 5,\n      end: initialState.selection.end - 6\n    });\n  }\n};\n","import { insertText } from \"../../text/textarea-text-controller\";\nimport { Command } from \"../command\";\n\nexport const newLineCommand: Command = {\n  execute(api) {\n    const { textApi } = api;\n    const { textArea } = textApi;\n\n    if (!textArea) {\n      return;\n    }\n\n    insertText(textArea, \"\\n\");\n  }\n};\n","// https://github.com/codemirror/codemirror5/blob/master/addon/edit/continuelist.js\nimport { insertText } from \"../../text/textarea-text-controller\";\nimport { Command } from \"../command\";\nimport { newLineCommand } from \"./newLineCommand\";\n\nconst listRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]\\s|[*+-]\\s|(\\d+)([.)]))(\\s*)/;\nconst emptyListRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]|[*+-]|(\\d+)[.)])(\\s*)$/;\nconst unorderedListRE = /[*+-]\\s/;\n\nexport const newLineAndIndentContinueMarkdownListCommand: Command = {\n  execute(api) {\n    const newLine = () => newLineCommand.execute(api);\n\n    const { initialState: state, textApi } = api;\n    const { textArea } = textApi;\n    if (!textArea) {\n      return;\n    }\n\n    const { lineText: line } = state;\n\n    const inList = listRE.exec(line);\n\n    if (!inList) {\n      newLine();\n      return;\n    }\n\n    const match = listRE.exec(line);\n\n    if (!match) {\n      return;\n    }\n\n    if (emptyListRE.test(line)) {\n      const focusIndex = state.selection.end;\n      const listPrefix = match[0];\n      textApi.setSelectionRange({\n        start: focusIndex - listPrefix.length - 1,\n        end: focusIndex\n      });\n      insertText(textArea, \"\\n\");\n    } else {\n      const indent = match[1];\n      const after = match[5];\n\n      const numbered = !(\n        unorderedListRE.test(match[2]) || match[2].indexOf(\">\") >= 0\n      );\n      const bullet = numbered\n        ? parseInt(match[3], 10) + 1 + match[4]\n        : match[2].replace(\"x\", \" \");\n\n      insertText(textArea, \"\\n\" + indent + bullet + after);\n\n      // TODO: re-calculate the rest numbered list\n      if (numbered) {\n      }\n    }\n  }\n};\n","import styled, { css } from \"styled-components\";\n\n\ninterface Props {\n  minHeight?:number\n}\n\nexport const MarkdownPreviewWrapper = styled.div<Props>`\n  box-sizing: border-box;\n  flex-basis: 100%;\n  min-height: 144px;\n  background-color: #fbfcfe;\n  padding: 12px;\n\n  .markdown-body {\n    background-color: inherit !important;\n  }\n\n  ${(props) =>\n          props.minHeight &&\n          css`\n            min-height: ${props.minHeight}px;\n          `};\n`;\n\n\nexport const MarkdownBody = styled.div`\n  font-size: 14px;\n  font-weight: normal;\n  color: #1e2134;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-color: transparent;\n\n  {\n    -ms-text-size-adjust: 100%;\n    -webkit-text-size-adjust: 100%;\n    margin: 0;\n    color: #24292f;\n    background-color: #ffffff;\n    font-family: Inter,serif;\n    word-wrap: break-word;\n  }\n\n  .octicon {\n    display: inline-block;\n    fill: currentColor;\n    vertical-align: text-bottom;\n  }\n\n  h1:hover .anchor .octicon-link:before,\n  h2:hover .anchor .octicon-link:before,\n  h3:hover .anchor .octicon-link:before,\n  h4:hover .anchor .octicon-link:before,\n  h5:hover .anchor .octicon-link:before,\n  h6:hover .anchor .octicon-link:before {\n    width: 16px;\n    height: 16px;\n    content: ' ';\n    display: inline-block;\n    background-color: currentColor;\n    -webkit-mask-image: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>\");\n    mask-image: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>\");\n  }\n\n  details,\n  figcaption,\n  figure {\n    display: block;\n  }\n\n  summary {\n    display: list-item;\n  }\n\n  [hidden] {\n    display: none !important;\n  }\n\n  a {\n    background-color: transparent;\n    color: #0969da;\n    text-decoration: none;\n  }\n\n  a:active,\n  a:hover {\n    outline-width: 0;\n  }\n\n  abbr[title] {\n    border-bottom: none;\n    text-decoration: underline dotted;\n  }\n\n  b,\n  strong {\n    font-weight: 600;\n  }\n\n  dfn {\n    font-style: italic;\n  }\n\n  h1 {\n    margin: .67em 0;\n    font-weight: 600;\n    padding-bottom: .3em;\n    font-size: 2em;\n    border-bottom: 1px solid hsla(210,18%,87%,1);\n  }\n\n  mark {\n    background-color: #fff8c5;\n    color: #24292f;\n  }\n\n  small {\n    font-size: 90%;\n  }\n\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n\n  img {\n    border-style: none;\n    max-width: 100%;\n    box-sizing: content-box;\n    background-color: #ffffff;\n  }\n\n  code,\n  kbd,\n  pre,\n  samp {\n    font-family: monospace,monospace;\n    font-size: 1em;\n  }\n\n  figure {\n    margin: 1em 40px;\n  }\n\n  hr {\n    box-sizing: content-box;\n    overflow: hidden;\n    background: transparent;\n    border-bottom: 1px solid hsla(210,18%,87%,1);\n    height: .25em;\n    padding: 0;\n    margin: 24px 0;\n    background-color: #d0d7de;\n    border: 0;\n  }\n\n  input {\n    font: inherit;\n    margin: 0;\n    overflow: visible;\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n  }\n\n  [type=button],\n  [type=reset],\n  [type=submit] {\n    -webkit-appearance: button;\n  }\n\n  [type=button]::-moz-focus-inner,\n  [type=reset]::-moz-focus-inner,\n  [type=submit]::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n\n  [type=button]:-moz-focusring,\n  [type=reset]:-moz-focusring,\n  [type=submit]:-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n\n  [type=checkbox],\n  [type=radio] {\n    box-sizing: border-box;\n    padding: 0;\n  }\n\n  [type=number]::-webkit-inner-spin-button,\n  [type=number]::-webkit-outer-spin-button {\n    height: auto;\n  }\n\n  [type=search] {\n    -webkit-appearance: textfield;\n    outline-offset: -2px;\n  }\n\n  [type=search]::-webkit-search-cancel-button,\n  [type=search]::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  ::-webkit-input-placeholder {\n    color: inherit;\n    opacity: .54;\n  }\n\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button;\n    font: inherit;\n  }\n\n  a:hover {\n    text-decoration: underline;\n  }\n\n  hr::before {\n    display: table;\n    content: \"\";\n  }\n\n  hr::after {\n    display: table;\n    clear: both;\n    content: \"\";\n  }\n\n  table {\n    border-spacing: 0;\n    border-collapse: collapse;\n    display: block;\n    width: max-content;\n    max-width: 100%;\n    overflow: auto;\n  }\n\n  td,\n  th {\n    padding: 0;\n  }\n\n  details summary {\n    cursor: pointer;\n  }\n\n  details:not([open])>*:not(summary) {\n    display: none !important;\n  }\n\n  kbd {\n    display: inline-block;\n    padding: 3px 5px;\n    font: 11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;\n    line-height: 10px;\n    color: #24292f;\n    vertical-align: middle;\n    background-color: #f6f8fa;\n    border: solid 1px rgba(175,184,193,0.2);\n    border-bottom-color: rgba(175,184,193,0.2);\n    border-radius: 6px;\n    box-shadow: inset 0 -1px 0 rgba(175,184,193,0.2);\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin-top: 24px;\n    margin-bottom: 16px;\n    font-weight: 600;\n    line-height: 1.25;\n  }\n\n  h2 {\n    font-weight: 600;\n    padding-bottom: .3em;\n    font-size: 1.5em;\n    border-bottom: 1px solid hsla(210,18%,87%,1);\n  }\n\n  h3 {\n    font-weight: 600;\n    font-size: 1.25em;\n  }\n\n  h4 {\n    font-weight: 600;\n    font-size: 1em;\n  }\n\n  h5 {\n    font-weight: 600;\n    font-size: .875em;\n  }\n\n  h6 {\n    font-weight: 600;\n    font-size: .85em;\n    color: #57606a;\n  }\n\n  p {\n    margin-top: 0;\n    margin-bottom: 10px;\n  }\n\n  blockquote {\n    margin: 0;\n    padding: 0 1em;\n    color: #57606a;\n    border-left: .25em solid #d0d7de;\n  }\n\n  ul,\n  ol {\n    margin-top: 0;\n    margin-bottom: 0;\n    padding-left: 2em;\n  }\n\n  ol ol,\n  ul ol {\n    list-style-type: lower-roman;\n  }\n\n  ul ul ol,\n  ul ol ol,\n  ol ul ol,\n  ol ol ol {\n    list-style-type: lower-alpha;\n  }\n\n  dd {\n    margin-left: 0;\n  }\n\n  tt,\n  code {\n    font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;\n    font-size: 12px;\n  }\n\n  pre {\n    margin-top: 0;\n    margin-bottom: 0;\n    font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;\n    font-size: 12px;\n    word-wrap: normal;\n  }\n\n  .octicon {\n    display: inline-block;\n    overflow: visible !important;\n    vertical-align: text-bottom;\n    fill: currentColor;\n  }\n\n  ::placeholder {\n    color: #6e7781;\n    opacity: 1;\n  }\n\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    margin: 0;\n    -webkit-appearance: none;\n    appearance: none;\n  }\n\n  .pl-c {\n    color: #6e7781;\n  }\n\n  .pl-c1,\n  .pl-s .pl-v {\n    color: #0550ae;\n  }\n\n  .pl-e,\n  .pl-en {\n    color: #8250df;\n  }\n\n  .pl-smi,\n  .pl-s .pl-s1 {\n    color: #24292f;\n  }\n\n  .pl-ent {\n    color: #116329;\n  }\n\n  .pl-k {\n    color: #cf222e;\n  }\n\n  .pl-s,\n  .pl-pds,\n  .pl-s .pl-pse .pl-s1,\n  .pl-sr,\n  .pl-sr .pl-cce,\n  .pl-sr .pl-sre,\n  .pl-sr .pl-sra {\n    color: #0a3069;\n  }\n\n  .pl-v,\n  .pl-smw {\n    color: #953800;\n  }\n\n  .pl-bu {\n    color: #82071e;\n  }\n\n  .pl-ii {\n    color: #f6f8fa;\n    background-color: #82071e;\n  }\n\n  .pl-c2 {\n    color: #f6f8fa;\n    background-color: #cf222e;\n  }\n\n  .pl-sr .pl-cce {\n    font-weight: bold;\n    color: #116329;\n  }\n\n  .pl-ml {\n    color: #3b2300;\n  }\n\n  .pl-mh,\n  .pl-mh .pl-en,\n  .pl-ms {\n    font-weight: bold;\n    color: #0550ae;\n  }\n\n  .pl-mi {\n    font-style: italic;\n    color: #24292f;\n  }\n\n  .pl-mb {\n    font-weight: bold;\n    color: #24292f;\n  }\n\n  .pl-md {\n    color: #82071e;\n    background-color: #FFEBE9;\n  }\n\n  .pl-mi1 {\n    color: #116329;\n    background-color: #dafbe1;\n  }\n\n  .pl-mc {\n    color: #953800;\n    background-color: #ffd8b5;\n  }\n\n  .pl-mi2 {\n    color: #eaeef2;\n    background-color: #0550ae;\n  }\n\n  .pl-mdr {\n    font-weight: bold;\n    color: #8250df;\n  }\n\n  .pl-ba {\n    color: #57606a;\n  }\n\n  .pl-sg {\n    color: #8c959f;\n  }\n\n  .pl-corl {\n    text-decoration: underline;\n    color: #0a3069;\n  }\n\n  [data-catalyst] {\n    display: block;\n  }\n\n  .markdown-body::before {\n    display: table;\n    content: \"\";\n  }\n\n  .markdown-body::after {\n    display: table;\n    clear: both;\n    content: \"\";\n  }\n\n  .markdown-body>*:first-child {\n    margin-top: 0 !important;\n  }\n\n  .markdown-body>*:last-child {\n    margin-bottom: 0 !important;\n  }\n\n  a:not([href]) {\n    color: inherit;\n    text-decoration: none;\n  }\n\n  .absent {\n    color: #cf222e;\n  }\n\n  .anchor {\n    float: left;\n    padding-right: 4px;\n    margin-left: -20px;\n    line-height: 1;\n  }\n\n  .anchor:focus {\n    outline: none;\n  }\n\n  p,\n  blockquote,\n  ul,\n  ol,\n  dl,\n  table,\n  pre,\n  details {\n    margin-top: 0;\n    margin-bottom: 16px;\n  }\n\n  blockquote>:first-child {\n    margin-top: 0;\n  }\n\n  blockquote>:last-child {\n    margin-bottom: 0;\n  }\n\n  sup>a::before {\n    content: \"[\";\n  }\n\n  sup>a::after {\n    content: \"]\";\n  }\n\n  h1 .octicon-link,\n  h2 .octicon-link,\n  h3 .octicon-link,\n  h4 .octicon-link,\n  h5 .octicon-link,\n  h6 .octicon-link {\n    color: #24292f;\n    vertical-align: middle;\n    visibility: hidden;\n  }\n\n  h1:hover .anchor,\n  h2:hover .anchor,\n  h3:hover .anchor,\n  h4:hover .anchor,\n  h5:hover .anchor,\n  h6:hover .anchor {\n    text-decoration: none;\n  }\n\n  h1:hover .anchor .octicon-link,\n  h2:hover .anchor .octicon-link,\n  h3:hover .anchor .octicon-link,\n  h4:hover .anchor .octicon-link,\n  h5:hover .anchor .octicon-link,\n  h6:hover .anchor .octicon-link {\n    visibility: visible;\n  }\n\n  h1 tt,\n  h1 code,\n  h2 tt,\n  h2 code,\n  h3 tt,\n  h3 code,\n  h4 tt,\n  h4 code,\n  h5 tt,\n  h5 code,\n  h6 tt,\n  h6 code {\n    padding: 0 .2em;\n    font-size: inherit;\n  }\n\n  ul.no-list,\n  ol.no-list {\n    padding: 0;\n    list-style-type: none;\n  }\n\n  ol[type=\"1\"] {\n    list-style-type: decimal;\n  }\n\n  ol[type=a] {\n    list-style-type: lower-alpha;\n  }\n\n  ol[type=i] {\n    list-style-type: lower-roman;\n  }\n\n  div>ol:not([type]) {\n    list-style-type: decimal;\n  }\n\n  ul ul,\n  ul ol,\n  ol ol,\n  ol ul {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n\n  li>p {\n    margin-top: 16px;\n  }\n\n  li+li {\n    margin-top: .25em;\n  }\n\n  dl {\n    padding: 0;\n  }\n\n  dl dt {\n    padding: 0;\n    margin-top: 16px;\n    font-size: 1em;\n    font-style: italic;\n    font-weight: 600;\n  }\n\n  dl dd {\n    padding: 0 16px;\n    margin-bottom: 16px;\n  }\n\n  table th {\n    font-weight: 600;\n  }\n\n  table th,\n  table td {\n    padding: 6px 13px;\n    border: 1px solid #d0d7de;\n  }\n\n  table tr {\n    background-color: #ffffff;\n    border-top: 1px solid hsla(210,18%,87%,1);\n  }\n\n  table tr:nth-child(2n) {\n    background-color: #f6f8fa;\n  }\n\n  table img {\n    background-color: transparent;\n  }\n\n  img[align=right] {\n    padding-left: 20px;\n  }\n\n  img[align=left] {\n    padding-right: 20px;\n  }\n\n  .emoji {\n    max-width: none;\n    vertical-align: text-top;\n    background-color: transparent;\n  }\n\n  span.frame {\n    display: block;\n    overflow: hidden;\n  }\n\n  span.frame>span {\n    display: block;\n    float: left;\n    width: auto;\n    padding: 7px;\n    margin: 13px 0 0;\n    overflow: hidden;\n    border: 1px solid #d0d7de;\n  }\n\n  span.frame span img {\n    display: block;\n    float: left;\n  }\n\n  span.frame span span {\n    display: block;\n    padding: 5px 0 0;\n    clear: both;\n    color: #24292f;\n  }\n\n  span.align-center {\n    display: block;\n    overflow: hidden;\n    clear: both;\n  }\n\n  span.align-center>span {\n    display: block;\n    margin: 13px auto 0;\n    overflow: hidden;\n    text-align: center;\n  }\n\n  span.align-center span img {\n    margin: 0 auto;\n    text-align: center;\n  }\n\n  span.align-right {\n    display: block;\n    overflow: hidden;\n    clear: both;\n  }\n\n  span.align-right>span {\n    display: block;\n    margin: 13px 0 0;\n    overflow: hidden;\n    text-align: right;\n  }\n\n  span.align-right span img {\n    margin: 0;\n    text-align: right;\n  }\n\n  span.float-left {\n    display: block;\n    float: left;\n    margin-right: 13px;\n    overflow: hidden;\n  }\n\n  span.float-left span {\n    margin: 13px 0 0;\n  }\n\n  span.float-right {\n    display: block;\n    float: right;\n    margin-left: 13px;\n    overflow: hidden;\n  }\n\n  span.float-right>span {\n    display: block;\n    margin: 13px auto 0;\n    overflow: hidden;\n    text-align: right;\n  }\n\n  code,\n  tt {\n    padding: .2em .4em;\n    margin: 0;\n    font-size: 85%;\n    background-color: rgba(175,184,193,0.2);\n    border-radius: 6px;\n  }\n\n  code br,\n  tt br {\n    display: none;\n  }\n\n  del code {\n    text-decoration: inherit;\n  }\n\n  pre code {\n    font-size: 100%;\n  }\n\n  pre>code {\n    padding: 0;\n    margin: 0;\n    word-break: normal;\n    white-space: pre;\n    background: transparent;\n    border: 0;\n  }\n\n  .highlight {\n    margin-bottom: 16px;\n  }\n\n  .highlight pre {\n    margin-bottom: 0;\n    word-break: normal;\n  }\n\n  .highlight pre,\n  pre {\n    padding: 16px;\n    overflow: auto;\n    font-size: 85%;\n    line-height: 1.45;\n    background-color: #f6f8fa;\n    border-radius: 6px;\n  }\n\n  pre code,\n  pre tt {\n    display: inline;\n    max-width: auto;\n    padding: 0;\n    margin: 0;\n    overflow: visible;\n    line-height: inherit;\n    word-wrap: normal;\n    background-color: transparent;\n    border: 0;\n  }\n\n  .csv-data td,\n  .csv-data th {\n    padding: 5px;\n    overflow: hidden;\n    font-size: 12px;\n    line-height: 1;\n    text-align: left;\n    white-space: nowrap;\n  }\n\n  .csv-data .blob-num {\n    padding: 10px 8px 9px;\n    text-align: right;\n    background: #ffffff;\n    border: 0;\n  }\n\n  .csv-data tr {\n    border-top: 0;\n  }\n\n  .csv-data th {\n    font-weight: 600;\n    background: #f6f8fa;\n    border-top: 0;\n  }\n\n  .footnotes {\n    font-size: 12px;\n    color: #57606a;\n    border-top: 1px solid #d0d7de;\n  }\n\n  .footnotes ol {\n    padding-left: 16px;\n  }\n\n  .footnotes li {\n    position: relative;\n  }\n\n  .footnotes li:target::before {\n    position: absolute;\n    top: -8px;\n    right: -8px;\n    bottom: -8px;\n    left: -24px;\n    pointer-events: none;\n    content: \"\";\n    border: 2px solid #0969da;\n    border-radius: 6px;\n  }\n\n  .footnotes li:target {\n    color: #24292f;\n  }\n\n  .footnotes .data-footnote-backref g-emoji {\n    font-family: monospace;\n  }\n\n  .task-list-item {\n    list-style-type: none;\n  }\n\n  .task-list-item label {\n    font-weight: 400;\n  }\n\n  .task-list-item.enabled label {\n    cursor: pointer;\n  }\n\n  .task-list-item+.task-list-item {\n    margin-top: 3px;\n  }\n\n  .task-list-item .handle {\n    display: none;\n  }\n\n  .task-list-item-checkbox {\n    margin: 0 .2em .25em -1.6em;\n    vertical-align: middle;\n  }\n\n  .contains-task-list:dir(rtl) .task-list-item-checkbox {\n    margin: 0 -1.6em .25em .2em;\n  }\n\n  ::-webkit-calendar-picker-indicator {\n    filter: invert(50%);\n  }\n  \n  p {\n    line-height: 24px;\n  }\n\n  code[class*=\"language-\"],\n  pre[class*=\"language-\"] {\n    color: black;\n    background: none;\n    text-shadow: 0 1px white;\n    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;\n    font-size: 1em;\n    text-align: left;\n    white-space: pre;\n    word-spacing: normal;\n    word-break: normal;\n    word-wrap: normal;\n    line-height: 1.5;\n\n    -moz-tab-size: 4;\n    -o-tab-size: 4;\n    tab-size: 4;\n\n    -webkit-hyphens: none;\n    -moz-hyphens: none;\n    -ms-hyphens: none;\n    hyphens: none;\n  }\n\n  pre[class*=\"language-\"]::-moz-selection, pre[class*=\"language-\"] ::-moz-selection,\n  code[class*=\"language-\"]::-moz-selection, code[class*=\"language-\"] ::-moz-selection {\n    text-shadow: none;\n    background: #b3d4fc;\n  }\n\n  pre[class*=\"language-\"]::selection, pre[class*=\"language-\"] ::selection,\n  code[class*=\"language-\"]::selection, code[class*=\"language-\"] ::selection {\n    text-shadow: none;\n    background: #b3d4fc;\n  }\n\n  @media print {\n    code[class*=\"language-\"],\n    pre[class*=\"language-\"] {\n      text-shadow: none;\n    }\n  }\n\n  /* Code blocks */\n\n  pre[class*=\"language-\"] {\n    padding: 1em;\n    margin: .5em 0;\n    overflow: auto;\n  }\n\n  :not(pre) > code[class*=\"language-\"],\n  pre[class*=\"language-\"] {\n    background: #f5f2f0;\n  }\n\n  /* Inline code */\n\n  :not(pre) > code[class*=\"language-\"] {\n    padding: .1em;\n    border-radius: .3em;\n    white-space: normal;\n  }\n\n  .token.comment,\n  .token.prolog,\n  .token.doctype,\n  .token.cdata {\n    color: slategray;\n  }\n\n  .token.punctuation {\n    color: #999;\n  }\n\n  .token.namespace {\n    opacity: .7;\n  }\n\n  .token.property,\n  .token.tag,\n  .token.boolean,\n  .token.number,\n  .token.constant,\n  .token.symbol,\n  .token.deleted {\n    color: #905;\n  }\n\n  .token.selector,\n  .token.attr-name,\n  .token.string,\n  .token.char,\n  .token.builtin,\n  .token.inserted {\n    color: #690;\n  }\n\n  .token.operator,\n  .token.entity,\n  .token.url,\n  .language-css .token.string,\n  .style .token.string {\n    color: #9a6e3a;\n    /* This background color was intended by the author of this theme. */\n    background: hsla(0, 0%, 100%, .5);\n  }\n\n  .token.atrule,\n  .token.attr-value,\n  .token.keyword {\n    color: #07a;\n  }\n\n  .token.function,\n  .token.class-name {\n    color: #DD4A68;\n  }\n\n  .token.regex,\n  .token.important,\n  .token.variable {\n    color: #e90;\n  }\n\n  .token.important,\n  .token.bold {\n    font-weight: bold;\n  }\n\n  .token.italic {\n    font-style: italic;\n  }\n\n  .token.entity {\n    cursor: help;\n  }\n`;\n","import { marked } from \"marked\";\nimport React from \"react\";\nimport sanitizeHtml from \"sanitize-html\";\nimport Prism from \"prismjs\";\nimport { MarkdownBody, MarkdownPreviewWrapper } from \"./PreviewComponents\";\n\ntype Props = {\n  content?: string;\n  allowedTags?: string[];\n  style?: React.CSSProperties;\n  minHeight: number;\n};\n\nexport function MarkdownPreview(props: Props = { minHeight: 144 }) {\n  const {\n    content = \"\",\n    allowedTags = sanitizeHtml.defaults.allowedTags.concat([\n      \"img\",\n      \"iframe\",\n      \"br\",\n      \"ins\",\n      \"del\"\n    ]),\n    ...restProps\n  } = props;\n\n  const html = marked.parse(content, {\n    breaks: true,\n    highlight(code, lang) {\n      if (!lang) {\n        return code;\n      }\n\n      const language = Prism.languages[lang] ?? Prism.languages.markup;\n      return Prism.highlight(code, language, lang);\n    }\n  });\n\n  const cleanHtml = sanitizeHtml(html, {\n    allowedTags,\n    allowedAttributes: {\n      img: [\"src\", \"size\", \"width\", \"height\"],\n      iframe: [\"src\", \"width\", \"height\"],\n      a: [\"href\", \"rel\", \"target\"],\n      \"*\": [\"class\"],\n      td: [\"align\"],\n      th: [\"align\"]\n    }\n  });\n\n  return (\n    <MarkdownPreviewWrapper {...restProps}>\n      <MarkdownBody\n        className={`markdown-body`}\n        dangerouslySetInnerHTML={{ __html: cleanHtml }}\n      />\n    </MarkdownPreviewWrapper>\n  );\n}\n","import * as React from \"react\";\nimport styled from \"styled-components\";\nimport { Suggestion } from \"../index\";\n\nconst SuggestionsWrapper = styled.ul`\n  position: absolute;\n  min-width: 180px;\n  padding: 8px 0;\n  margin: 20px 0 0;\n  list-style: none;\n  cursor: pointer;\n  background: #fff;\n  box-shadow: 0px 4px 31px rgba(26, 33, 44, 0.06),\n    0px 0.751293px 8px rgba(26, 33, 44, 0.04);\n  color: #506176;\n\n  li {\n    padding: 6px 16px;\n\n    &:hover,\n    &[aria-selected=\"true\"] {\n      background-color: #f0f3f8;\n    }\n  }\n`;\n\ninterface ClassArray extends Array<ClassValue> {} // tslint:disable-line no-empty-interface\n\ninterface ClassDictionary {\n  [id: string]: string | boolean;\n}\n\ninterface CaretCoordinates {\n  top: number;\n  left: number;\n  lineHeight: number;\n}\n\ntype ClassValue = string | ClassDictionary | ClassArray | undefined | null;\n\nexport interface SuggestionsDropdownProps {\n  classes?: ClassValue;\n  caret: CaretCoordinates;\n  suggestions: Suggestion[];\n  suggestionsAutoplace: boolean;\n  onSuggestionSelected: (index: number) => void;\n  /**\n   * Which item is focused by the keyboard\n   */\n  focusIndex: number;\n  textAreaRef: React.RefObject<HTMLTextAreaElement>;\n}\n\nexport const SuggestionsDropdown: React.FunctionComponent<SuggestionsDropdownProps> = ({\n  suggestions,\n  caret,\n  onSuggestionSelected,\n  suggestionsAutoplace,\n  focusIndex,\n  textAreaRef\n}) => {\n  const handleSuggestionClick = (event: React.MouseEvent) => {\n    event.preventDefault();\n    // @ts-ignore\n    const index = parseInt(event.currentTarget.attributes[\"data-index\"].value);\n    onSuggestionSelected(index);\n  };\n\n  const handleMouseDown = (event: React.MouseEvent) => event.preventDefault();\n\n  const vw = Math.max(\n    document.documentElement.clientWidth || 0,\n    window.innerWidth || 0\n  );\n  const vh = Math.max(\n    document.documentElement.clientHeight || 0,\n    window.innerHeight || 0\n  );\n\n  const left = caret.left - (textAreaRef?.current?.scrollLeft ?? 0) + 30;\n  const top = caret.top - (textAreaRef?.current?.scrollTop ?? 0) + 60;\n\n  const style: React.CSSProperties = {};\n  if (\n    suggestionsAutoplace &&\n    top + (textAreaRef?.current?.getBoundingClientRect()?.top ?? 0) > vh / 2\n  )\n    style.bottom = (textAreaRef?.current?.offsetHeight ?? 0) - top;\n  else style.top = top;\n\n  if (\n    suggestionsAutoplace &&\n    left + (textAreaRef?.current?.getBoundingClientRect()?.left ?? 0) > vw / 2\n  )\n    style.right = (textAreaRef?.current?.offsetWidth ?? 0) - left;\n  else style.left = left;\n\n  return (\n    <SuggestionsWrapper style={style}>\n      {suggestions.map((s, i) => (\n        <li\n          onClick={handleSuggestionClick}\n          onMouseDown={handleMouseDown}\n          key={i}\n          aria-selected={focusIndex === i ? \"true\" : \"false\"}\n          data-index={`${i}`}\n        >\n          {s.preview}\n        </li>\n      ))}\n    </SuggestionsWrapper>\n  );\n};\n","import styled, { css } from \"styled-components\";\nimport * as React from \"react\";\n\ninterface WrapperProps {\n  disabled?: boolean;\n}\n\nexport const EditorWrapper = styled.div<WrapperProps>`\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  border-top: 1px solid #e2e8f0;\n  border-bottom: 1px solid #e2e8f0;\n  ${p =>\n    p.disabled &&\n    css`\n      pointer-events: none;\n      cursor: not-allowed;\n    `}\n`;\n\nexport const ToolBar = styled.div`\n  flex-basis: 100%;\n  padding-left: 16px;\n  padding-right: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  /* mobile */\n  @media screen and (max-width: 769px) {\n    display: block;\n    padding-left: 0;\n    padding-right: 0;\n  }\n`;\n\nexport const TabsWrapper = styled.div`\n  display: flex;\n  gap: 24px;\n  height: 48px;\n  /* mobile */\n  @media screen and (max-width: 769px) {\n    border-bottom: 1px solid #e2e8f0;\n  }\n`;\n\ninterface TabProps {\n  active: boolean;\n}\n\nexport const Tab = styled.button<TabProps>`\n  all: unset;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 24px;\n  border-bottom: 3px solid #ffffff;\n  ${props =>\n    props.active &&\n    css`\n      border-bottom: 3px solid #04d2c5;\n    `};\n  cursor: pointer;\n  /* mobile */\n  @media screen and (max-width: 769px) {\n    margin-left: 16px;\n    margin-right: 16px;\n    width: 50%;\n    text-align: center;\n  }\n`;\n\ninterface Props {\n  hide?: boolean;\n  minHeight?: number;\n  height?: number;\n}\n\nexport const ToolbarItemsWrapper = styled.div<Props>`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  ${props =>\n    props.hide &&\n    css`\n      display: none;\n    `};\n  /* mobile */\n  @media screen and (max-width: 769px) {\n    height: 48px;\n  }\n`;\n\nexport const ToolbarButton = styled.button`\n  all: unset;\n  cursor: pointer;\n  width: 24px;\n  height: 24px;\n\n  &:hover svg path {\n    fill: #1e2134;\n  }\n`;\n\nexport const Textarea = styled.textarea<Props>`\n  box-sizing: border-box;\n  width: 100%;\n  min-height: 144px;\n  ${props =>\n    props.minHeight &&\n    css`\n      min-height: ${props.minHeight}px;\n    `};\n  ${props =>\n    props.height &&\n    css`\n      height: ${props.height}px;\n    `};\n  ${props =>\n    props.hide &&\n    css`\n      display: none;\n    `};\n  max-height: 672px;\n  resize: vertical;\n  border: none;\n  outline: none;\n  font-size: 14px;\n  line-height: 24px;\n  padding: 12px;\n  background: #fbfcfe;\n  font-family: Inter, sans-serif;\n\n  ::selection {\n    background-color: #e2e8f0;\n  }\n`;\n","import React from \"react\";\n\nexport default function() {\n  return <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n          d=\"M7.5 5.25C6.87868 5.25 6.375 5.75368 6.375 6.375V12V17.625C6.375 18.2463 6.87868 18.75 7.5 18.75H13.6875C15.8621 18.75 17.625 16.9871 17.625 14.8125C17.625 13.4029 16.8843 12.1663 15.7709 11.4707C16.2299 10.8267 16.5 10.0386 16.5 9.1875C16.5 7.01288 14.7371 5.25 12.5625 5.25H7.5ZM12.5625 10.875C13.4945 10.875 14.25 10.1195 14.25 9.1875C14.25 8.25552 13.4945 7.5 12.5625 7.5H8.625V10.875H12.5625ZM8.625 13.125V16.5H13.6875C14.6194 16.5 15.375 15.7444 15.375 14.8125C15.375 13.8805 14.6194 13.125 13.6875 13.125H12.5625H8.625Z\"\n          fill=\"#506176\" />\n  </svg>\n}\n\n\n","import React from \"react\";\n\nexport default function() {\n  return <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M7.83458 4.47119C8.29469 4.47119 8.66767 4.84418 8.66767 5.30428V11.1979C8.66767 12.0817 9.01876 12.9293 9.64369 13.5542C10.2686 14.1792 11.1162 14.5303 12 14.5303C12.8838 14.5303 13.7314 14.1792 14.3563 13.5542C14.9813 12.9293 15.3324 12.0817 15.3324 11.1979V5.30428C15.3324 4.84418 15.7053 4.47119 16.1654 4.47119C16.6255 4.47119 16.9985 4.84418 16.9985 5.30428V11.1979C16.9985 12.5236 16.4719 13.795 15.5345 14.7324C14.5971 15.6698 13.3257 16.1964 12 16.1964C10.6743 16.1964 9.40293 15.6698 8.46553 14.7324C7.52813 13.795 7.0015 12.5236 7.0015 11.1979V5.30428C7.0015 4.84418 7.37448 4.47119 7.83458 4.47119ZM5.33533 18.6957C5.33533 18.2356 5.70831 17.8626 6.16841 17.8626H17.8316C18.2917 17.8626 18.6647 18.2356 18.6647 18.6957C18.6647 19.1558 18.2917 19.5288 17.8316 19.5288H6.16841C5.70831 19.5288 5.33533 19.1558 5.33533 18.6957Z\"\n      fill=\"#506176\" />\n  </svg>\n}\n","import React from \"react\";\n\nexport default function() {\n  return <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M16.6512 13.805C16.8588 14.2707 16.9635 14.7887 16.9635 15.3573C16.9635 16.5684 16.4906 17.516 15.5457 18.1974C14.599 18.8788 13.2931 19.2199 11.6262 19.2199C10.315 19.2199 9.01593 18.9501 7.72823 18.4098C7.42154 18.2811 7.23108 17.9755 7.23108 17.6429C7.23108 16.98 7.95555 16.5584 8.57437 16.7963C9.51561 17.1581 10.4714 17.3391 11.4421 17.3391C13.7443 17.3391 14.8986 16.6785 14.9067 15.3564C14.9115 15.0883 14.8622 14.822 14.7617 14.5735C14.6397 14.2718 14.4437 14.0285 14.2136 13.8041H3.87744V11.9991H20.1222V13.8041L16.6512 13.805ZM12.9709 11.0976H8.05505C7.89696 10.9534 7.75171 10.7958 7.62095 10.6265C7.23108 10.1229 7.03614 9.51459 7.03614 8.79802C7.03614 7.68255 7.4567 6.73403 8.29692 5.95248C9.13894 5.17093 10.4394 4.78015 12.2002 4.78015C13.3572 4.78015 14.471 5.005 15.5405 5.4547C15.8317 5.57715 16.0105 5.86855 16.0105 6.18445C16.0105 6.81951 15.3138 7.22863 14.7102 7.03118C13.9959 6.79751 13.2423 6.68079 12.4493 6.68079C10.2111 6.68079 9.09291 7.38653 9.09291 8.79802C9.09291 9.17706 9.28965 9.50737 9.68313 9.78985C10.0766 10.0723 10.5622 10.297 11.1388 10.4667C11.6984 10.6292 12.3094 10.8403 12.9709 11.0976Z\"\n      fill=\"#506176\" />\n  </svg>\n}\n","import React from \"react\";\n\nexport default function() {\n  return <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n          d=\"M5.25 7.5C5.87132 7.5 6.375 6.99632 6.375 6.375C6.375 5.75368 5.87132 5.25 5.25 5.25C4.62868 5.25 4.125 5.75368 4.125 6.375C4.125 6.99632 4.62868 7.5 5.25 7.5ZM9.46875 5.8125C9.00276 5.8125 8.625 6.19026 8.625 6.65625C8.625 7.12224 9.00276 7.5 9.46875 7.5H19.0312C19.4972 7.5 19.875 7.12224 19.875 6.65625C19.875 6.19026 19.4972 5.8125 19.0312 5.8125H9.46875ZM9.46875 11.4375C9.00276 11.4375 8.625 11.8153 8.625 12.2812C8.625 12.7472 9.00276 13.125 9.46875 13.125H19.0312C19.4972 13.125 19.875 12.7472 19.875 12.2812C19.875 11.8153 19.4972 11.4375 19.0312 11.4375H9.46875ZM9.46875 17.0625C9.00276 17.0625 8.625 17.4403 8.625 17.9062C8.625 18.3722 9.00276 18.75 9.46875 18.75H19.0312C19.4972 18.75 19.875 18.3722 19.875 17.9062C19.875 17.4403 19.4972 17.0625 19.0312 17.0625H9.46875ZM6.375 12C6.375 12.6213 5.87132 13.125 5.25 13.125C4.62868 13.125 4.125 12.6213 4.125 12C4.125 11.3787 4.62868 10.875 5.25 10.875C5.87132 10.875 6.375 11.3787 6.375 12ZM5.25 18.75C5.87132 18.75 6.375 18.2463 6.375 17.625C6.375 17.0037 5.87132 16.5 5.25 16.5C4.62868 16.5 4.125 17.0037 4.125 17.625C4.125 18.2463 4.62868 18.75 5.25 18.75Z\"\n          fill=\"#506176\" />\n  </svg>\n}\n","import React from \"react\";\n\nexport default function() {\n  return <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clipPath=\"url(#clip0_10067_7942)\">\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n            d=\"M5.25379 5.81256C5.25379 5.61771 5.15297 5.43674 4.98729 5.3342C4.82161 5.23166 4.61467 5.22216 4.44028 5.30909L3.31171 5.87163C3.03365 6.01023 2.9206 6.348 3.0592 6.62607C3.19781 6.90412 3.53558 7.01717 3.81364 6.87857L4.12869 6.72152V9.75041H3.56267C3.25199 9.75041 3.00012 10.0023 3.00012 10.313C3.00012 10.6236 3.25199 10.8755 3.56267 10.8755H5.81981C6.1305 10.8755 6.38237 10.6236 6.38237 10.313C6.38237 10.0023 6.1305 9.75041 5.81981 9.75041H5.25379V5.81256ZM8.625 6.65625C8.625 6.19026 9.00276 5.8125 9.46875 5.8125H19.0312C19.4972 5.8125 19.875 6.19026 19.875 6.65625C19.875 7.12224 19.4972 7.5 19.0312 7.5H9.46875C9.00276 7.5 8.625 7.12224 8.625 6.65625ZM8.625 12.2813C8.625 11.8153 9.00276 11.4375 9.46875 11.4375H19.0312C19.4972 11.4375 19.875 11.8153 19.875 12.2813C19.875 12.7472 19.4972 13.125 19.0312 13.125H9.46875C9.00276 13.125 8.625 12.7472 8.625 12.2813ZM8.625 17.9062C8.625 17.4403 9.00276 17.0625 9.46875 17.0625H19.0312C19.4972 17.0625 19.875 17.4403 19.875 17.9062C19.875 18.3722 19.4972 18.75 19.0312 18.75H9.46875C9.00276 18.75 8.625 18.3722 8.625 17.9062ZM4.03995 14.61L4.04291 14.6056C4.04773 14.5986 4.05728 14.5854 4.07144 14.5678C4.10025 14.532 4.1451 14.4824 4.20459 14.4331C4.32321 14.3347 4.48173 14.2508 4.68778 14.2508C4.90752 14.2508 5.03307 14.328 5.10985 14.415C5.19565 14.5124 5.25351 14.6617 5.25351 14.8385C5.25351 15.3474 4.95073 15.606 4.35347 16.0506L4.31406 16.0798C3.77839 16.4778 3.00014 17.0562 3.00014 18.1874C3.00014 18.3366 3.05941 18.4797 3.1649 18.5852C3.2704 18.6907 3.41349 18.75 3.56269 18.75H5.81598C6.12667 18.75 6.37861 18.4981 6.37861 18.1874C6.37861 17.8768 6.12675 17.6249 5.81607 17.6249H4.28937C4.4375 17.4029 4.6846 17.2066 5.02528 16.953L5.07777 16.914C5.60737 16.5211 6.37861 15.9489 6.37861 14.8385C6.37861 14.4275 6.2455 14.0018 5.95376 13.6709C5.65299 13.3298 5.21441 13.1257 4.6878 13.1257C4.14752 13.1257 3.74348 13.3537 3.48613 13.5673C3.35763 13.6739 3.26115 13.7803 3.19562 13.8616C3.16261 13.9025 3.13674 13.9379 3.11793 13.9651C3.10851 13.9787 3.10079 13.9903 3.09479 13.9996L3.08704 14.0118L3.08411 14.0165L3.08288 14.0185L3.08206 14.0199C2.92084 14.2854 3.00519 14.6318 3.27078 14.793C3.53439 14.9531 3.87721 14.8709 4.03995 14.61ZM3.56263 14.3121L3.08206 14.0199C3.08206 14.0199 3.0818 14.0203 3.56263 14.3121Z\"\n            fill=\"#506176\" />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_10067_7942\">\n        <rect width=\"18\" height=\"18\" fill=\"white\" transform=\"translate(3 3)\" />\n      </clipPath>\n    </defs>\n  </svg>\n}\n","import React from \"react\";\n\nexport default function() {\n  return <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n          d=\"M11.7469 6.68446C11.5978 6.8444 11.5167 7.05596 11.5205 7.27454C11.5244 7.49313 11.6129 7.70168 11.7675 7.85628C11.9221 8.01087 12.1307 8.09942 12.3493 8.10328C12.5679 8.10713 12.7794 8.026 12.9394 7.87696L14.3456 6.47071C14.5546 6.26166 14.8028 6.09583 15.076 5.9827C15.3491 5.86955 15.6418 5.81132 15.9375 5.81132C16.2331 5.81132 16.5259 5.86955 16.799 5.9827C17.0722 6.09583 17.3203 6.26166 17.5294 6.47071C17.7384 6.67976 17.9042 6.92793 18.0174 7.20106C18.1305 7.4742 18.1887 7.76695 18.1887 8.06258C18.1887 8.35822 18.1305 8.65096 18.0174 8.9241C17.9042 9.19723 17.7384 9.4454 17.5294 9.65446L14.7169 12.467C14.5078 12.6762 14.2598 12.8421 13.9866 12.9553C13.7135 13.0686 13.4207 13.1269 13.125 13.1269C12.8293 13.1269 12.5365 13.0686 12.2634 12.9553C11.9902 12.8421 11.7421 12.6762 11.5331 12.467C11.3732 12.3179 11.1616 12.2368 10.943 12.2406C10.7244 12.2445 10.5159 12.333 10.3613 12.4876C10.2067 12.6422 10.1181 12.8508 10.1143 13.0694C10.1104 13.288 10.1916 13.4995 10.3406 13.6595C10.7063 14.0251 11.1403 14.3152 11.6181 14.5131C12.0958 14.711 12.6079 14.8128 13.125 14.8128C13.6421 14.8128 14.1542 14.711 14.6319 14.5131C15.1096 14.3152 15.5437 14.0251 15.9094 13.6595L18.7219 10.847C19.4603 10.1085 19.8752 9.10692 19.8752 8.06258C19.8752 7.01824 19.4603 6.01667 18.7219 5.27821C17.9834 4.53974 16.9818 4.12488 15.9375 4.12488C14.8932 4.12488 13.8916 4.53974 13.1531 5.27821L11.7469 6.68446ZM6.47062 17.5295C6.26141 17.3204 6.09545 17.0724 5.98223 16.7992C5.869 16.5261 5.81071 16.2332 5.81071 15.9376C5.81071 15.6419 5.869 15.3491 5.98223 15.0759C6.09545 14.8028 6.26141 14.5546 6.47062 14.3457L9.28312 11.5332C9.49207 11.324 9.74023 11.158 10.0134 11.0448C10.2865 10.9316 10.5793 10.8733 10.875 10.8733C11.1707 10.8733 11.4635 10.9316 11.7366 11.0448C12.0097 11.158 12.2579 11.324 12.4669 11.5332C12.6268 11.6822 12.8384 11.7634 13.057 11.7595C13.2755 11.7557 13.4841 11.6671 13.6387 11.5125C13.7933 11.3579 13.8818 11.1494 13.8857 10.9308C13.8895 10.7122 13.8084 10.5007 13.6594 10.3407C13.2937 9.97503 12.8596 9.68496 12.3819 9.48706C11.9042 9.28916 11.3921 9.18729 10.875 9.18729C10.3579 9.18729 9.84582 9.28916 9.36808 9.48706C8.89034 9.68496 8.45625 9.97503 8.09062 10.3407L5.27812 13.1532C4.53964 13.8917 4.12479 14.8932 4.12479 15.9376C4.12479 16.9819 4.53964 17.9835 5.27812 18.722C6.01658 19.4604 7.01814 19.8753 8.06249 19.8753C9.10683 19.8753 10.1084 19.4604 10.8469 18.722L12.2531 17.3157C12.4022 17.1557 12.4833 16.9442 12.4794 16.7256C12.4756 16.5071 12.387 16.2985 12.2324 16.1439C12.0778 15.9893 11.8693 15.9007 11.6507 15.8969C11.4321 15.893 11.2206 15.9741 11.0606 16.1232L9.65437 17.5295C9.4454 17.7386 9.19725 17.9046 8.92411 18.0178C8.65096 18.1311 8.35818 18.1894 8.06249 18.1894C7.7668 18.1894 7.47402 18.1311 7.20087 18.0178C6.92773 17.9046 6.67957 17.7386 6.47062 17.5295Z\"\n          fill=\"#506176\" />\n  </svg>\n}\n","import React from \"react\";\n\nexport default function() {\n  return <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clipPath=\"url(#clip0_10067_7948)\">\n      <path\n        d=\"M18.75 14.25V16.5H21V18H18.75V20.25H17.25V18H15V16.5H17.25V14.25H18.75ZM18.756 5.25C19.167 5.25 19.5 5.58375 19.5 5.99475V13.0065C19.0183 12.8363 18.511 12.7496 18 12.75V6.75H6.00003L6.00078 17.25L12.9698 10.2802C13.0987 10.1509 13.2705 10.073 13.4529 10.0614C13.6352 10.0498 13.8155 10.1053 13.9598 10.2172L14.0295 10.281L16.689 12.9435C16.1075 13.1207 15.5679 13.4138 15.1027 13.8052C14.6376 14.1966 14.2565 14.6781 13.9825 15.2208C13.7084 15.7635 13.5472 16.356 13.5083 16.9627C13.4695 17.5693 13.5539 18.1776 13.7565 18.7507L5.24403 18.75C5.04664 18.7498 4.8574 18.6712 4.7179 18.5316C4.57839 18.392 4.50003 18.2026 4.50003 18.0052V5.99475C4.5014 5.79778 4.58021 5.60926 4.71942 5.46991C4.85862 5.33056 5.04707 5.25157 5.24403 5.25H18.756ZM9.00003 8.25C9.39786 8.25 9.77939 8.40804 10.0607 8.68934C10.342 8.97064 10.5 9.35218 10.5 9.75C10.5 10.1478 10.342 10.5294 10.0607 10.8107C9.77939 11.092 9.39786 11.25 9.00003 11.25C8.60221 11.25 8.22067 11.092 7.93937 10.8107C7.65807 10.5294 7.50003 10.1478 7.50003 9.75C7.50003 9.35218 7.65807 8.97064 7.93937 8.68934C8.22067 8.40804 8.60221 8.25 9.00003 8.25Z\"\n        fill=\"#506176\" />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_10067_7948\">\n        <rect width=\"18\" height=\"18\" fill=\"white\" transform=\"translate(3 3)\" />\n      </clipPath>\n    </defs>\n  </svg>\n}\n","import React from \"react\";\n\nexport default function() {\n  return <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n          d=\"M8.30963 6.62213C8.63913 6.29262 9.17337 6.29262 9.50287 6.62213C9.83237 6.95163 9.83237 7.48587 9.50287 7.81537L5.31824 12L9.50287 16.1847C9.83237 16.5142 9.83237 17.0483 9.50287 17.3778C9.17337 17.7073 8.63913 17.7073 8.30963 17.3778L3.52838 12.5966C3.19887 12.2671 3.19887 11.7329 3.52838 11.4034L8.30963 6.62213ZM15.6903 6.62213C15.3608 6.29262 14.8267 6.29262 14.4972 6.62213C14.1676 6.95163 14.1676 7.48587 14.4972 7.81537L18.6817 12L14.4972 16.1847C14.1676 16.5142 14.1676 17.0483 14.4972 17.3778C14.8267 17.7073 15.3608 17.7073 15.6903 17.3778L20.4716 12.5966C20.8011 12.2671 20.8011 11.7329 20.4716 11.4034L15.6903 6.62213Z\"\n          fill=\"#506176\" />\n  </svg>\n}\n","import * as React from \"react\";\nimport { Tab, TabsWrapper, ToolBar, ToolbarButton, ToolbarItemsWrapper } from \"./EditorComponents\";\nimport Bold from \"../icons/bold\";\nimport Underline from \"../icons/underline\";\nimport Delete from \"../icons/delete\";\nimport Ul from \"../icons/ul\";\nimport Ol from \"../icons/ol\";\nimport Link from \"../icons/link\";\nimport Img from \"../icons/img\";\nimport Code from \"../icons/code\";\n\n\nexport default function EditorHeader({ editStatus, setEditStatus, isPreview, commandController }) {\n  return <ToolBar>\n    <TabsWrapper>\n      <Tab\n        active={editStatus === \"write\"}\n        onClick={() => setEditStatus(\"write\")}\n      >\n        Write\n      </Tab>\n      <Tab\n        active={editStatus === \"preview\"}\n        onClick={() => setEditStatus(\"preview\")}\n      >\n        Preview\n      </Tab>\n    </TabsWrapper>\n    <ToolbarItemsWrapper hide={isPreview}>\n      <ToolbarButton\n        onClick={async () => {\n          await commandController.executeCommand(\"bold\");\n        }}\n      >\n        <Bold />\n      </ToolbarButton>\n      <ToolbarButton\n        onClick={async () => {\n          await commandController.executeCommand(\"underline\");\n        }}\n      >\n        <Underline />\n      </ToolbarButton>\n      <ToolbarButton\n        onClick={async () => {\n          await commandController.executeCommand(\"delete\");\n        }}\n      >\n        <Delete />\n      </ToolbarButton>\n      <ToolbarButton\n        onClick={async () => {\n          await commandController.executeCommand(\"ul\");\n        }}\n      >\n        <Ul />\n      </ToolbarButton>\n      <ToolbarButton\n        onClick={async () => {\n          await commandController.executeCommand(\"ol\");\n        }}\n      >\n        <Ol />\n      </ToolbarButton>\n      <ToolbarButton\n        onClick={async () => {\n          await commandController.executeCommand(\"link\");\n        }}\n      >\n        <Link />\n      </ToolbarButton>\n      <ToolbarButton\n        onClick={async () => {\n          await commandController.executeCommand(\"image\");\n        }}\n      >\n        <Img />\n      </ToolbarButton>\n      <ToolbarButton\n        onClick={async () => {\n          await commandController.executeCommand(\"code\");\n        }}\n      >\n        <Code />\n      </ToolbarButton>\n    </ToolbarItemsWrapper>\n  </ToolBar>;\n}\n","export function insertText(input: HTMLTextAreaElement | HTMLInputElement | any, text: string) {\n  // Most of the used APIs only work with the field selected\n  input.focus();\n\n  // IE 8-10\n  if ((document as any).selection) {\n    const ieRange = (document as any).selection.createRange();\n    ieRange.text = text;\n\n    // Move cursor after the inserted text\n    ieRange.collapse(false /* to the end */);\n    ieRange.select();\n\n    return;\n  }\n\n  // Webkit + Edge\n  const isSuccess = document.execCommand(\"insertText\", false, text);\n  if (!isSuccess) {\n    const start = input.selectionStart;\n    const end = input.selectionEnd;\n    // Firefox (non-standard method)\n    if (typeof (input as any).setRangeText === \"function\") {\n      (input as any).setRangeText(text);\n    } else {\n      if (canManipulateViaTextNodes(input)) {\n        const textNode = document.createTextNode(text);\n        let node = input.firstChild;\n\n        // If textarea is empty, just insert the text\n        if (!node) {\n          input.appendChild(textNode);\n        } else {\n          // Otherwise we need to find a nodes for start and end\n          let offset = 0;\n          let startNode = null;\n          let endNode = null;\n\n          // To make a change we just need a Range, not a Selection\n          const range = document.createRange();\n\n          while (node && (startNode === null || endNode === null)) {\n            const nodeLength = node.nodeValue.length;\n\n            // if start of the selection falls into current node\n            if (start >= offset && start <= offset + nodeLength) {\n              range.setStart((startNode = node), start - offset);\n            }\n\n            // if end of the selection falls into current node\n            if (end >= offset && end <= offset + nodeLength) {\n              range.setEnd((endNode = node), end - offset);\n            }\n\n            offset += nodeLength;\n            node = node.nextSibling;\n          }\n\n          // If there is some text selected, remove it as we should replace it\n          if (start !== end) {\n            range.deleteContents();\n          }\n\n          // Finally insert a new node. The browser will automatically\n          // split start and end nodes into two if necessary\n          range.insertNode(textNode);\n        }\n      } else {\n        // For the text input the only way is to replace the whole value :(\n        const value = input.value;\n        input.value = value.slice(0, start) + text + value.slice(end);\n      }\n    }\n\n    // Correct the cursor position to be at the end of the insertion\n    input.setSelectionRange(start + text.length, start + text.length);\n\n    // Notify any possible listeners of the change\n    const e = document.createEvent(\"UIEvent\");\n    e.initEvent(\"input\", true, false);\n    input.dispatchEvent(e);\n  }\n}\n\nfunction canManipulateViaTextNodes(input: HTMLTextAreaElement | HTMLInputElement) {\n  if (input.nodeName !== \"TEXTAREA\") {\n    return false;\n  }\n  let browserSupportsTextareaTextNodes;\n  if (typeof browserSupportsTextareaTextNodes === \"undefined\") {\n    const textarea = document.createElement(\"textarea\");\n    textarea.value = \"1\";\n    browserSupportsTextareaTextNodes = !!textarea.firstChild;\n  }\n  return browserSupportsTextareaTextNodes;\n}\n\n","export interface CaretCoordinates {\n  top: number,\n  left: number,\n  lineHeight: number\n}\n\nconst properties = [\n  \"direction\", // RTL support\n  \"boxSizing\",\n  \"width\", // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  \"height\",\n  \"overflowX\",\n  \"overflowY\", // copy the scrollbar for IE\n\n  \"borderTopWidth\",\n  \"borderRightWidth\",\n  \"borderBottomWidth\",\n  \"borderLeftWidth\",\n  \"borderStyle\",\n\n  \"paddingTop\",\n  \"paddingRight\",\n  \"paddingBottom\",\n  \"paddingLeft\",\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  \"fontStyle\",\n  \"fontVariant\",\n  \"fontWeight\",\n  \"fontStretch\",\n  \"fontSize\",\n  \"fontSizeAdjust\",\n  \"lineHeight\",\n  \"fontFamily\",\n\n  \"textAlign\",\n  \"textTransform\",\n  \"textIndent\",\n  \"textDecoration\", // might not make a difference, but better be safe\n\n  \"letterSpacing\",\n  \"wordSpacing\",\n\n  \"tabSize\",\n  \"MozTabSize\"\n];\n\nexport function getCaretCoordinates(\n  element: HTMLTextAreaElement,\n  append?: string\n): CaretCoordinates {\n  if (typeof window === \"undefined\") {\n    throw new Error(\"getCaretCoordinates should only be called in a browser\");\n  }\n\n  // The mirror div will replicate the textarea's style\n  const div = document.createElement(\"div\");\n  div.id = \"input-textarea-caret-position-mirror-div\";\n  document.body.appendChild(div);\n\n  const style = div.style;\n  const computed = window.getComputedStyle\n    ? window.getComputedStyle(element)\n    : (element as any).currentStyle; // currentStyle for IE < 9\n\n  // Default textarea styles\n  style.whiteSpace = \"pre-wrap\";\n  style.wordWrap = \"break-word\"; // only for textarea-s\n\n  // Position off-screen\n  style.position = \"absolute\"; // required to return coordinates properly\n  style.visibility = \"hidden\"; // not 'display: none' because we want rendering\n\n  // Transfer the element's properties to the div\n  properties.forEach(function(prop) {\n    // @ts-ignore\n    style[prop] = computed[prop];\n  });\n\n  if ((window as any).mozInnerScreenX != null) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > parseInt(computed.height))\n      style.overflowY = \"scroll\";\n  } else {\n    style.overflow = \"hidden\"; // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, element.selectionStart);\n  if (append) {\n    div.textContent += append;\n  }\n\n  const span = document.createElement(\"span\");\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // For inputs, just '.' would be enough, but no need to bother.\n  span.textContent = element.value.substring(element.selectionEnd) || \".\"; // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  const coordinates: CaretCoordinates = {\n    top: span.offsetTop + parseInt(computed[\"borderTopWidth\"]),\n    left: span.offsetLeft + parseInt(computed[\"borderLeftWidth\"]),\n    lineHeight: parseInt(computed[\"lineHeight\"])\n  };\n\n  document.body.removeChild(div);\n\n  return coordinates;\n}\n","import { insertText } from \"./text\";\nimport * as React from \"react\";\nimport { getCaretCoordinates } from \"./index\";\n\nexport function getHandlers({\n  ref,\n  loadSuggestions,\n  setFocusIndex,\n  focusIndex,\n  setCaret,\n  suggestions,\n  setSuggestions,\n  mentionState,\n  setMentionState,\n  value\n}) {\n  const handleSuggestionSelected = (index: number) => {\n    if (loadSuggestions) {\n      ref.current.setSelectionRange(\n        mentionState.startPosition - 1,\n        ref.current.selectionStart\n      );\n      insertText(ref?.current, suggestions[index].value);\n      setMentionState({ ...mentionState, status: \"inactive\" });\n      setFocusIndex(0);\n    }\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (mentionState.status === \"active\") {\n      if (event.key === \"ArrowDown\") {\n        event.preventDefault();\n        setFocusIndex(\n          focusIndex >= suggestions.length - 1 ? 0 : focusIndex + 1\n        );\n      }\n      if (event.key === \"ArrowUp\") {\n        event.preventDefault();\n        setFocusIndex(\n          focusIndex === 0 ? suggestions.length - 1 : focusIndex - 1\n        );\n      }\n      if (event.key === \"Enter\") {\n        event.preventDefault();\n        handleSuggestionSelected(focusIndex);\n      }\n      if (event.key === \"Backspace\") {\n        if (ref.current.selectionStart <= mentionState.startPosition) {\n          setMentionState({ ...mentionState, status: \"inactive\" });\n          setFocusIndex(0);\n        }\n      }\n      if (event.key === \"Escape\") {\n        setMentionState({ ...mentionState, status: \"inactive\" });\n        setFocusIndex(0);\n      }\n    }\n  };\n\n  const handleKeyUp = (event: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    const { key } = event;\n    switch (mentionState.status) {\n      case \"active\":\n        if (key === \"Backspace\") {\n          const searchText = value.substr(\n            mentionState.startPosition,\n            ref.current.selectionStart - mentionState.startPosition\n          );\n          setSuggestions(loadSuggestions(searchText));\n        }\n        break;\n    }\n  };\n\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    const { key } = event;\n    if (key === \"@\") {\n      if (ref.current) {\n        setCaret(getCaretCoordinates(ref.current));\n      }\n      setSuggestions(loadSuggestions(\"\"));\n      setMentionState({\n        status: \"active\",\n        startPosition: ref.current.selectionStart + 1\n      });\n    }\n    switch (mentionState.status) {\n      case \"loading\":\n      case \"active\":\n        if (key === \" \") {\n          setMentionState({\n            ...mentionState,\n            status: \"inactive\"\n          });\n          return;\n        }\n\n        const searchText =\n          value.substr(\n            mentionState.startPosition,\n            ref.current.selectionStart - mentionState.startPosition\n          ) + key;\n        // In this case, the mentions box was open but the user typed something else\n        setSuggestions(loadSuggestions(searchText));\n        break;\n      case \"inactive\":\n        if (\n          key !== \"@\" ||\n          !/\\s|\\(|\\[|^.{0}$/.test(value.charAt(ref.current.selectionStart - 1))\n        ) {\n          return;\n        }\n        loadSuggestions(\"~\");\n        break;\n    }\n  };\n\n  return {\n    handleSuggestionSelected,\n    handleKeyDown,\n    handleKeyPress,\n    handleKeyUp\n  };\n}\n","import { boldCommand } from \"./commands/markdown-commands/boldCommand\";\nimport { strikethroughCommand } from \"./commands/markdown-commands/strikethroughCommand\";\nimport { linkCommand } from \"./commands/markdown-commands/linkCommand\";\nimport { imageCommand } from \"./commands/markdown-commands/imageCommand\";\nimport { codeCommand } from \"./commands/markdown-commands/codeCommand\";\nimport { useTextAreaMarkdownEditor } from \"./hooks/use-markdown-editor\";\nimport { orderedListCommand } from \"./commands/markdown-commands/orderedListCommand\";\nimport { unorderedListCommand } from \"./commands/markdown-commands/unorderedListCommand\";\nimport { underlineCommand } from \"./commands/markdown-commands/underlineCommand\";\nimport { newLineAndIndentContinueMarkdownListCommand } from \"./commands/markdown-commands/newLineAndIndentContinueMarkdownListCommand\";\nimport { newLineCommand } from \"./commands/markdown-commands/newLineCommand\";\nimport * as React from \"react\";\nimport { MarkdownPreview } from \"./components/MarkdownPreview\";\nimport { SuggestionsDropdown } from \"./components/SuggestionsDropdown\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { EditorWrapper, Textarea } from \"./components/EditorComponents\";\nimport EditorHeader from \"./components/EditorHeader\";\nimport { getHandlers } from \"./util/eventHandlers\";\n\nexport interface Suggestion {\n  preview: React.ReactNode;\n  value: string;\n}\n\nexport type DemoProps = {\n  value: string;\n  onChange: (value: string) => void;\n  loadSuggestions?: (text: string) => Suggestion[];\n  minHeight?: number;\n  disabled?: boolean;\n};\n\nexport interface CaretCoordinates {\n  top: number;\n  left: number;\n  lineHeight: number;\n}\n\nexport interface MentionState {\n  status: \"active\" | \"inactive\" | \"loading\";\n  /**\n   * Selection start by the time the mention was activated\n   */\n  startPosition?: number;\n  focusIndex?: number;\n  caret?: CaretCoordinates;\n  suggestions: Suggestion[];\n  /**\n   * The character that triggered the mention. Example: @\n   */\n  triggeredBy?: string;\n}\n\nexport const Editor: React.FunctionComponent<DemoProps> = ({\n  value,\n  onChange,\n  loadSuggestions,\n  minHeight = 144,\n  disabled = false\n}) => {\n  const ref = useRef<HTMLTextAreaElement>(null);\n  const { commandController } = useTextAreaMarkdownEditor(ref, {\n    commandMap: {\n      bold: boldCommand,\n      delete: strikethroughCommand,\n      code: codeCommand,\n      image: imageCommand,\n      link: linkCommand,\n      ol: orderedListCommand,\n      ul: unorderedListCommand,\n      underline: underlineCommand,\n\n      newLineAndIndentContinueMarkdownList: newLineAndIndentContinueMarkdownListCommand,\n      newLine: newLineCommand\n    }\n  });\n\n  const [caret, setCaret] = useState({ left: 0, top: 0, lineHeight: 20 });\n  const [focusIndex, setFocusIndex] = useState(0);\n  const [editStatus, setEditStatus] = React.useState<\"write\" | \"preview\">(\n    \"write\"\n  );\n  const [suggestions, setSuggestions] = React.useState<Suggestion[]>([]);\n  const [mentionState, setMentionState] = useState<MentionState>({\n    status: \"inactive\",\n    suggestions: []\n  });\n\n  const isPreview = React.useMemo(() => {\n    return editStatus === \"preview\";\n  }, [editStatus]);\n\n  let observer: MutationObserver;\n\n  const [height, setHeight] = useState(100);\n  const [userResized, setUserResized] = useState(false);\n\n  const adjustHeight = () => {\n    const textarea = ref?.current;\n    if (textarea && !userResized) {\n      textarea.style.height = `${minHeight}px`;\n      textarea.style.height = `${textarea.scrollHeight}px`;\n      setHeight(textarea.scrollHeight);\n    }\n  };\n\n  useEffect(() => {\n    //expand height if got default value before inputting\n    adjustHeight();\n  }, []);\n\n  useEffect(() => {\n    const textarea = ref?.current;\n    if (typeof window === \"undefined\") {\n      return;\n    }\n    // @ts-ignore\n    if (window.editorObserver) {\n      // @ts-ignore\n      window.editorObserver?.disconnect();\n    }\n    if (textarea) {\n      // MutationObserver is the modern way to observe element resize event\n      observer = new MutationObserver(record => {\n        //no value changed && height change => user resized manually\n        // @ts-ignore\n        if (record[0].target.value === value) {\n          setUserResized(true);\n          setHeight(parseInt(textarea?.style?.height));\n        }\n      });\n      // @ts-ignore\n      window.editorObserver = observer;\n      observer.observe(textarea, {\n        attributes: true,\n        attributeFilter: [\"style\"]\n      });\n    }\n  }, [height, value, setHeight]);\n\n  const {\n    handleSuggestionSelected,\n    handleKeyDown,\n    handleKeyPress,\n    handleKeyUp\n  } = getHandlers({\n    ref,\n    suggestions,\n    loadSuggestions,\n    setFocusIndex,\n    focusIndex,\n    setCaret,\n    setSuggestions,\n    mentionState,\n    setMentionState,\n    value\n  });\n\n  const isEditingText = React.useMemo(() => {\n    return mentionState.status !== \"active\";\n  }, [mentionState.status]);\n\n  const onEnterNewLine = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n\n      if (isEditingText) {\n        commandController.executeCommand(\n          \"newLineAndIndentContinueMarkdownList\"\n        );\n      }\n    }\n  };\n\n  return (\n    <EditorWrapper disabled={disabled}>\n      <EditorHeader\n        {...{ editStatus, setEditStatus, isPreview, commandController }}\n      />\n      <Textarea\n        ref={ref}\n        value={value}\n        onChange={event => {\n          onChange(event.target.value);\n          adjustHeight();\n        }}\n        onKeyUp={event => {\n          handleKeyUp(event);\n        }}\n        onKeyDown={event => {\n          handleKeyDown(event);\n          onEnterNewLine(event);\n        }}\n        onKeyPress={handleKeyPress}\n        placeholder=\"Please text here...\"\n        minHeight={minHeight}\n        height={height}\n        hide={isPreview}\n      />\n      {isPreview && <MarkdownPreview content={value} minHeight={minHeight} />}\n      {mentionState.status === \"active\" && suggestions.length > 0 && (\n        <SuggestionsDropdown\n          caret={caret}\n          suggestions={suggestions}\n          focusIndex={focusIndex < suggestions.length ? focusIndex : 0}\n          textAreaRef={ref}\n          onSuggestionSelected={handleSuggestionSelected}\n          suggestionsAutoplace\n        />\n      )}\n    </EditorWrapper>\n  );\n};\n\nexport default Editor;\n"],"names":["insertText","canManipulateViaTextNodes","useMemo","styled","css","templateObject_1","templateObject_3","sanitizeHtml","marked","Prism","React","useRef","useState","useEffect"],"mappings":"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"}